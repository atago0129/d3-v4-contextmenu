<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>d3-v4-contextmenu sample</title>
</head>
<body>
<div id="main" style="width: 500px;height: 400px;background: #7988bb"></div>
<script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
<script type="text/javascript" src="./dist/d3-v4-contextmenu.js"></script>
<script type="text/javascript">
  var svg = d3.select("#main").append("svg").attr("width", 500).attr("height", 400);
  var items = [
    {
      label: "change to red",
      onClick: function (e) {
        svg.node().style.background = "#ff0000";
      }
    },
    {
      label: "change color",
      items: [
        {
          label: "blue",
          action: function (e) {
            svg.node().style.background = "#0000ff";
          }
        },
        {
          label: "pink",
          action: function(e) {
            alert('pink is clicked!');
          },
          items: function() {
            return [
              {
                label: "deep pink",
                action: function (e) {
                  svg.node().style.background = "#ff1493";
                }
              },
              {
                label() {
                  return "shocking pink";
                },

                action() {
                  svg.node().style.background = "#fc0fc0";
                }
              }
            ];
          }
        },
        {
          label: "black",
          items: function() {
            return [
              {
                label: "black",
                action: function (e) {
                  svg.node().style.background = "#000";
                }
              }
            ];
          }
        }

      ]
    },
    {
      label: function () {
        var date = new Date();
        return 'Snow' + ':' + date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate();
      },
      action: function (e) {
        svg.node().style.background = "#fffafa";
      }
    }
  ];
  svg.on("contextmenu", d3.contextmenu(items));
</script>
</body>
</html>
